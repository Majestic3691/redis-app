#
# Redis Dockerfile
#
# https://github.com/dockerfile/redis
#

# Pull base image.
FROM redis


# Maintainer
LABEL maintainer="MICHAEL Ryan <mtritconsulting@outlook.com>"

# Copy Content to the /data/redis directory.
COPY ./data/*.data ./redis/
COPY ./data/loaddata.sh ./redis/

# Commands - load the data into redis.
RUN \
  apt-get update && apt-get upgrade -y && \
  pwd && \
  cd /data/redis && \
  chmod +x loaddata.sh && \
  pwd && \
  ls -lta && \
  ls -lta loaddata.sh && \
  redis-server --daemonize yes && \
  echo '/usr/local/bin/redis-cli ping' && \
  /usr/local/bin/redis-cli ping && \
  ./loaddata.sh

# Users

# Define mountable directories.

# Define working directory.

# Define default command.

# Expose ports.
